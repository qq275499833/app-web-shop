webpackJsonp([6],{"10ME":function(t,i){},"1SgU":function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),e=s("44dg"),o=s("NYxO"),r={data:function(){return{shippingList:[],shippingInfo:{},orderList:[],imageHost:"",cartTotalPrice:0,shippingFixed:!1,categoryWrap:!1,shippingEmpty:!1,isLoading:!0}},computed:a()({},Object(o.c)({shippingId:function(t){return t.shippingId}})),created:function(){this.shippingId?this.getAddress():this.getShippingId(),this.getOrderList()},mounted:function(){var t=this;this.$nextTick(function(){t.calculateHeight(),setTimeout(function(){t.isLoading=!1},500)})},methods:a()({},Object(o.b)(["RECORD_SHIPPINGID"]),{calculateHeight:function(){var t=document.documentElement.clientHeight,i=document.querySelector(".order-wrap").clientHeight;console.log(111),console.log(t),console.log(i)},getShippingId:function(){var t=this;this.$http("/api/shipping/list.do",{pageNum:1,pageSize:10},"POST").then(function(i){i.data.list.length?(t.shippingEmpty=!1,t.shippingList=i.data.list,t.RECORD_SHIPPINGID(i.data.list[0].id),t.getAddress()):t.shippingEmpty=!0})},getAddress:function(){var t=this;console.log(this.shippingList),this.$http("/api/shipping/select.do",{shippingId:this.shippingId},"POST").then(function(i){t.shippingInfo=i.data,console.log(i)})},getOrderList:function(){var t=this;this.$http("/api/cart/list.do",{},"POST").then(function(i){t.imageHost=i.data.imageHost,t.cartTotalPrice=i.data.cartTotalPrice,i.data.cartProductVoList.forEach(function(i){i.productChecked&&t.orderList.push(i)})})},goPayment:function(){var t=this;this.$http("/api/order/create.do",{shippingId:this.shippingId},"POST").then(function(i){t.$router.push("/payment?orderNo="+i.data.orderNo)})},goBack:function(){this.$router.go(-1)}}),components:{loading:e.a}},c={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"order-wrap"},[n("header",{staticClass:"order-head"},[n("i",{staticClass:"iconfont icon-left",on:{click:t.goBack}}),t._v(" "),n("span",[t._v("提交订单\n        ")])]),t._v(" "),n("loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],attrs:{"loading-type":2}}),t._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]},[n("div",{staticClass:"order-shipping",class:{fixed:t.shippingFixed}},[n("router-link",{staticClass:"shipping-info",attrs:{tag:"div",to:"./shipping"}},[t.shippingEmpty?n("div",{staticClass:"empty"},[t._v("\n                    新增收货地址"),n("i",{staticClass:"iconfont icon-right"})]):n("div",{staticClass:"info"},[n("p",[n("span",{staticClass:"name"},[t._v(t._s(t.shippingInfo.receiverName))]),t._v(" "),n("span",{staticClass:"phone"},[t._v(t._s(t.shippingInfo.receiverMobile))])]),t._v(" "),n("div",[n("span",[t._v(t._s(t.shippingInfo.receiverProvince)+t._s(t.shippingInfo.receiverCity)+t._s(t.shippingInfo.receiverAddress))]),t._v(" "),n("i",{staticClass:"iconfont icon-right"})])])]),t._v(" "),n("img",{attrs:{src:s("LCzO")}})],1),t._v(" "),n("div",{staticClass:"order-list"},t._l(t.orderList,function(i){return n("div",{staticClass:"order-item"},[n("img",{attrs:{src:t.imageHost+i.productMainImage}}),t._v(" "),n("div",{staticClass:"product-info"},[n("p",{staticClass:"name"},[t._v(t._s(i.productName))]),t._v(" "),n("p",{staticClass:"subtitle"},[t._v(t._s(i.productSubtitle))]),t._v(" "),n("div",[n("span",{staticClass:"price"},[t._v("￥ "+t._s(i.productPrice))]),t._v(" "),n("span",{staticClass:"quantity"},[t._v("X "+t._s(i.quantity))])])])])})),t._v(" "),n("div",{staticClass:"order-payment"},[n("div",[n("p",[n("span",[t._v("商品金额")]),t._v(" "),n("span",[t._v("￥ "+t._s(t.cartTotalPrice))])]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"total-price"},[t._v("\n                总价："),n("span",[t._v("￥"+t._s(t.cartTotalPrice))])]),t._v(" "),n("button",{ref:"submitButton",staticClass:"payment",on:{click:t.goPayment}},[t._v("在线支付")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("p",[i("span",[this._v("运费")]),this._v(" "),i("span",[this._v("+ ￥0.00")])])}]};var p=s("VU/8")(r,c,!1,function(t){s("10ME")},"data-v-7f02fec4",null);i.default=p.exports},LCzO:function(t,i){t.exports="data:image/png;base64,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"}});
//# sourceMappingURL=6.fa0b8eb185fe85664a9d.js.map