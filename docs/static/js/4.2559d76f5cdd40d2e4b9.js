webpackJsonp([4],{"2rG7":function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("vKRX"),o=t("hhm8"),r=t("i84Q"),i={data:function(){return{oldPassword:"",newPassword:"",oldClose:!1,newClose:!1,errMsg:"",passwordType:0,messageText:"",isMessage:!1}},methods:{focusText:function(s){var e=s.currentTarget.className;console.log(e),"old-password"===e?this.oldClose=!0:this.newClose=!0},blurText:function(s){"old-password"===s.currentTarget.className?this.oldClose=!1:this.newClose=!1},clearText:function(s){this[s.currentTarget.getAttribute("data-close")]=""},changeType:function(){var s=this.$refs.passwordText.getAttribute("type"),e="";console.log(s),e="password"===s?"text":"password",this.$refs.passwordText.setAttribute("type",e),this.passwordType=!this.passwordType},removeSpace:function(s){return Object(o.f)(s)},submitPassword:function(){var s=this;Object(o.f)(this.oldPassword)&&Object(o.f)(this.newPassword)&&(/^[a-zA-Z0-9\x21-\x7e]{6,20}$/.test(this.newPassword)?(this.errMsg="",Object(r.C)(this.oldPassword,this.newPassword).then(function(e){s.showMessage(),setTimeout(function(){Object(r.o)().then(function(){s.$router.push("./user")})},1300)})):this.errMsg="密码格式不对")},showMessage:function(){var s=this;this.isMessage=!0,this.messageText="更新密码成功！",setTimeout(function(){s.isMessage=!1},1200)},goBack:function(){this.$router.go(-1)}},components:{message:a.a}},n={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"update-password"},[t("header",{staticClass:"user-head"},[t("i",{staticClass:"iconfont icon-left",on:{click:s.goBack}}),s._v(" "),t("span",[s._v("账号管理")]),s._v(" "),t("i",{staticClass:"iconfont icon-More"})]),s._v(" "),t("section",{staticClass:"update-form"},[t("div",{staticClass:"password-item"},[t("span",[s._v("输入旧密码")]),s._v(" "),t("div",{staticClass:"password-text"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.oldPassword,expression:"oldPassword"}],staticClass:"old-password",attrs:{type:"password",placeholder:"请输入旧密码"},domProps:{value:s.oldPassword},on:{mouseenter:s.focusText,mouseleave:s.blurText,input:function(e){e.target.composing||(s.oldPassword=e.target.value)}}}),s._v(" "),t("div",[t("i",{directives:[{name:"show",rawName:"v-show",value:s.oldClose,expression:"oldClose"}],staticClass:"iconfont icon-close",attrs:{"data-close":"oldPassword"},on:{click:s.clearText}})])])]),s._v(" "),t("div",{staticClass:"password-item"},[t("span",[s._v("设置新的登录密码")]),s._v(" "),t("div",{staticClass:"password-text"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.newPassword,expression:"newPassword"}],ref:"passwordText",staticClass:"new-password",attrs:{type:"password",placeholder:"6-20位数字 / 字母 / 字符组合"},domProps:{value:s.newPassword},on:{mouseenter:s.focusText,mouseleave:s.blurText,input:function(e){e.target.composing||(s.newPassword=e.target.value)}}}),s._v(" "),t("div",[t("i",{directives:[{name:"show",rawName:"v-show",value:s.newClose,expression:"newClose"}],staticClass:"iconfont icon-close",attrs:{"data-close":"newPassword"},on:{click:s.clearText}}),s._v(" "),s.passwordType?t("i",{staticClass:"iconfont icon-eye eye",on:{click:s.changeType}}):t("i",{staticClass:"iconfont icon-eye1 eye",on:{click:s.changeType}})])])]),s._v(" "),t("p",{staticClass:"err-msg"},[s._v(s._s(s.errMsg))]),s._v(" "),t("button",{staticClass:"password-submit",class:{active:s.removeSpace(s.oldPassword)&&s.removeSpace(s.newPassword)},on:{click:s.submitPassword}},[s._v("确认")])]),s._v(" "),t("message",{directives:[{name:"show",rawName:"v-show",value:s.isMessage,expression:"isMessage"}],attrs:{"message-text":s.messageText}})],1)},staticRenderFns:[]};var c=t("VU/8")(i,n,!1,function(s){t("2s4B")},"data-v-e81cd33a",null);e.default=c.exports},"2s4B":function(s,e){},vKRX:function(s,e,t){"use strict";var a={props:{messageText:{type:String,default:""}}},o={render:function(){var s=this.$createElement,e=this._self._c||s;return e("transition",{attrs:{name:"fade"}},[e("div",{staticClass:"message-wrap"},[e("p",{staticClass:"message-text"},[this._v(this._s(this.messageText))])])])},staticRenderFns:[]};var r=t("VU/8")(a,o,!1,function(s){t("w73J")},"data-v-802239e2",null);e.a=r.exports},w73J:function(s,e){}});
//# sourceMappingURL=4.2559d76f5cdd40d2e4b9.js.map