webpackJsonp([18],{"1a7W":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("44dg"),i=s("hhm8"),a=s("i84Q"),o={data:function(){return{orderList:[],orderType:1,emptyMsg:"",isLoading:!0}},created:function(){var t=Object(i.e)("orderType");this.orderType=parseInt(t),this.getOrderList()},mounted:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.isLoading=!1},500)})},methods:{getOrderList:function(){var t=this;Object(a.q)(20,1).then(function(e){console.log(e),t.initOrderList(e.data.list)})},initOrderList:function(t){var e=this;switch(this.orderType){case 1:this.orderList=t,this.emptyMsg="你暂时没有订单!";break;case 2:t.forEach(function(t){10===t.status&&e.orderList.push(t)}),this.emptyMsg="你暂时没有要付款的订单!";break;case 3:this.orderList=[],this.emptyMsg="你暂时没有待收货的订单!";break;case 4:this.orderList=[],this.emptyMsg="你暂时没有已完成的订单!"}},selectTag:function(t){var e=parseInt(t.currentTarget.getAttribute("data-type"));this.orderType=e,this.$router.replace("./order-list?orderType="+e),this.orderList=[],this.emptyMsg="",this.getOrderList()},viewDetail:function(t){"order-payment"!==t.target.className&&this.$router.push("./order-detail?orderNo="+t.currentTarget.getAttribute("data-orderNo"))},goPayment:function(t){this.$router.push("./payment?orderNo="+t)},goBack:function(){this.$router.push("./user")}},components:{loading:r.a}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-wrap"},[s("header",{staticClass:"user-head"},[s("i",{staticClass:"iconfont icon-left",on:{click:t.goBack}}),t._v(" "),s("span",[t._v("订单列表")]),t._v(" "),s("i",{staticClass:"iconfont icon-More"})]),t._v(" "),t._m(0),t._v(" "),s("section",{staticClass:"order-tag"},[s("span",{class:{active:1===t.orderType},attrs:{"data-type":"1"},on:{click:t.selectTag}},[t._v("所有订单")]),t._v(" "),s("span",{class:{active:2===t.orderType},attrs:{"data-type":"2"},on:{click:t.selectTag}},[t._v("待付款")]),t._v(" "),s("span",{class:{active:3===t.orderType},attrs:{"data-type":"3"},on:{click:t.selectTag}},[t._v("待收货")]),t._v(" "),s("span",{class:{active:4===t.orderType},attrs:{"data-type":"4"},on:{click:t.selectTag}},[t._v("已完成")])]),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),t._v(" "),s("section",[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"order-list"},t._l(t.orderList,function(e){return s("div",{staticClass:"order-item",attrs:{"data-orderNo":e.orderNo},on:{click:t.viewDetail}},[s("p",{staticClass:"order-num"},[t._v("订单号："),s("span",[t._v(t._s(e.orderNo))])]),t._v(" "),s("div",{staticClass:"status"},[s("div",[s("i",[t._v("状态："),s("b",[t._v(t._s(e.statusDesc))])]),t._v(" "),s("i",[t._v("总价："),s("b",[t._v("￥"+t._s(e.payment))])])]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:10===e.status,expression:"order.status === 10"}],staticClass:"order-payment",on:{click:function(s){t.goPayment(e.orderNo)}}},[t._v("去支付")])]),t._v(" "),s("div",{staticClass:"product-list"},t._l(e.orderItemVoList,function(r){return s("div",{staticClass:"product-item"},[s("img",{attrs:{src:e.imageHost+r.productImage}}),t._v(" "),s("div",[s("p",[t._v(t._s(r.productName))]),t._v(" "),s("span",[t._v("x"+t._s(r.quantity))])])])}))])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.orderList.length,expression:"orderList.length === 0"}],staticClass:"order-empty"},[t._v(t._s(t.emptyMsg))])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"order-search"},[e("div",[e("i",{staticClass:"iconfont icon-search"}),this._v(" "),e("input",{attrs:{placeholder:"商品名称/商品编号/订单号"}})])])}]};var c=s("VU/8")(o,n,!1,function(t){s("8HCL")},"data-v-13b537a8",null);e.default=c.exports},"8HCL":function(t,e){}});
//# sourceMappingURL=18.55ee846e3f583a013c54.js.map